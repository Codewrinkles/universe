<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Codewrinkles ‚Äì Multi-App Shell (Dark v4 + Light, Auth, Onboarding)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: "#20C1AC",
              brandSoft: "#35D6C0",
              pagebg: "#050505",
              card1: "#0A0A0A",
              card2: "#111111",
              border1: "#2A2A2A",
              borderDeep: "#1A1A1A",
              textPrimary: "#F3F4F6",
              textSecondary: "#A1A1AA",
              textTertiary: "#737373",
            },
            fontSize: {
              xs: "0.8rem",
              sm: "0.9rem",
              base: "1rem"
            }
          },
        },
      };
    </script>
    <style>
      /* Theme overrides */
      .light-theme .bg-pagebg { background-color: #F3F4F6 !important; }
      .light-theme .bg-card1 { background-color: #FFFFFF !important; }
      .light-theme .bg-card2 { background-color: #F9FAFB !important; }
      .light-theme .border-border1 { border-color: #E2E8F0 !important; }
      .light-theme .border-borderDeep { border-color: #CBD5E1 !important; }
      .light-theme .text-textPrimary { color: #0F172A !important; }
      .light-theme .text-textSecondary { color: #475569 !important; }
      .light-theme .text-textTertiary { color: #94A3B8 !important; }
      .light-theme .shadow-sm { box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06); }
      .dark-theme .shadow-sm { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45); }

      /* Tiny micro-interactions */
      .btn-primary {
        transition: all 0.15s ease-out;
      }
      .btn-primary:hover {
        transform: translateY(-0.5px);
      }
      .btn-primary:active {
        transform: translateY(0.5px) scale(0.98);
      }

      /* Typing indicator dots */
      @keyframes typingDots {
        0%, 20% { opacity: 0.2; transform: translateY(0); }
        50% { opacity: 1; transform: translateY(-1px); }
        100% { opacity: 0.2; transform: translateY(0); }
      }
      .typing-dot {
        animation: typingDots 1s infinite;
      }
      .typing-dot:nth-child(2) { animation-delay: 0.2s; }
      .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="min-h-screen bg-pagebg text-textPrimary text-sm">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const NAV_ITEMS = ["Home", "Social", "Learn", "Twin", "Settings"];

      function App() {
        const [activeNav, setActiveNav] = useState("Home");
        const [view, setView] = useState("app"); // "app" | "login" | "register" | "onboarding"
        const [theme, setTheme] = useState("dark"); // "dark" | "light"

        useEffect(() => {
          try {
            const stored = window.localStorage.getItem("cw-theme");
            if (stored === "light" || stored === "dark") {
              setTheme(stored);
            }
          } catch {}
        }, []);

        useEffect(() => {
          try {
            window.localStorage.setItem("cw-theme", theme);
          } catch {}
        }, [theme]);

        const goHome = () => {
          setView("app");
          setActiveNav("Home");
        };

        return (
          <div className={theme + "-theme min-h-screen bg-pagebg"}>
            <Header
              activeNav={activeNav}
              setActiveNav={setActiveNav}
              view={view}
              setView={setView}
              goHome={goHome}
              theme={theme}
              setTheme={setTheme}
            />
            <main className="mx-auto max-w-6xl px-4 py-6 lg:py-8 text-sm">
              {view === "app" && (
                <>
                  {activeNav === "Home" && <Home onStartOnboarding={() => setView("onboarding")} />}
                  {activeNav === "Social" && <Social />}
                  {activeNav === "Learn" && <Learn />}
                  {activeNav === "Twin" && <Twin />}
                  {activeNav === "Settings" && <Settings />}
                </>
              )}
              {view === "login" && <LoginScreen setView={setView} goHome={goHome} />}
              {view === "register" && <RegisterScreen setView={setView} goHome={goHome} />}
              {view === "onboarding" && <OnboardingScreen setView={setView} />}
            </main>
          </div>
        );
      }

      function Header({ activeNav, setActiveNav, view, setView, goHome, theme, setTheme }) {
        const [appsOpen, setAppsOpen] = useState(false);
        const apps = [
          { id: "social", name: "Social", accent: "sky", description: "Micro-thought stream" },
          { id: "learn", name: "Learn", accent: "violet", description: "Guided learning paths" },
          { id: "twin", name: "Twin", accent: "brand", description: "Your knowledge twin" },
          { id: "legal", name: "Legal", accent: "amber", description: "Contracts (soon)" },
          { id: "runwrinkles", name: "Runwrinkles", accent: "emerald", description: "Running coach (soon)" },
        ];

        const toggleTheme = () => {
          setTheme(theme === "dark" ? "light" : "dark");
        };

        const handleAppClick = (app) => {
          if (app.id === "social") {
            setView("app");
            setActiveNav("Social");
          } else if (app.id === "learn") {
            setView("app");
            setActiveNav("Learn");
          } else if (app.id === "twin") {
            setView("app");
            setActiveNav("Twin");
          }
          setAppsOpen(false);
        };

        return (
          <header className="border-b border-borderDeep bg-pagebg/95 backdrop-blur">
            <div className="mx-auto flex max-w-6xl items-center justify-between px-4 py-4 gap-3 relative">
              {/* Brand */}
              <button
                onClick={goHome}
                className="flex items-center gap-2 focus:outline-none group"
              >
                <div className="relative flex h-10 w-10 items-center justify-center rounded-2xl bg-card1 border border-brandSoft/50 shadow-sm transition-all duration-150 group-hover:border-brandSoft group-hover:shadow-md">
                  <span className="text-sm font-semibold tracking-tight text-textPrimary">CW</span>
                  <span className="pointer-events-none absolute inset-0 rounded-2xl ring-1 ring-brandSoft/40 blur-[1px]" />
                </div>
                <div className="text-left">
                  <span className="block text-base font-semibold tracking-tight text-textPrimary">
                    Codewrinkles
                  </span>
                  <span className="block text-xs text-textSecondary">
                    One account. Many apps.
                  </span>
                </div>
              </button>

              {/* Center nav (only in app view) */}
              {view === "app" && (
                <nav className="hidden lg:flex gap-1 rounded-full border border-border1 bg-card1 px-2 py-1">
                  {NAV_ITEMS.map((item) => {
                    const isActive = activeNav === item;
                    return (
                      <button
                        key={item}
                        onClick={() => setActiveNav(item)}
                        className={[
                          "rounded-full px-4 py-1.5 text-xs transition-all duration-150",
                          isActive
                            ? "bg-brandSoft text-black font-medium shadow-sm"
                            : "text-textSecondary hover:bg-card2 hover:text-textPrimary",
                        ].join(" ")}
                      >
                        {item}
                      </button>
                    );
                  })}
                </nav>
              )}

              {/* Right side */}
              <div className="flex items-center gap-2 relative">
                {/* Theme toggle */}
                <button
                  type="button"
                  onClick={toggleTheme}
                  className="hidden sm:inline-flex items-center justify-center h-8 w-8 rounded-full border border-border1 bg-card1 text-xs text-textSecondary hover:border-brandSoft/60 hover:bg-card2 transition-all duration-150"
                  title="Toggle theme"
                >
                  {theme === "dark" ? "‚òÄ" : "üåô"}
                </button>

                {/* Apps button + dropdown (app view only) */}
                {view === "app" && (
                  <div className="relative">
                    <button
                      type="button"
                      onClick={() => setAppsOpen(!appsOpen)}
                      className="hidden sm:flex items-center gap-2 rounded-full border border-border1 bg-card1 px-3 py-1 text-xs text-textSecondary hover:border-brandSoft/60 hover:bg-card2 transition-all duration-150"
                    >
                      <span className="inline-flex h-4 w-4 items-center justify-center rounded-full bg-pagebg text-[10px] text-brandSoft">
                        ‚¨¢
                      </span>
                      <span>Apps</span>
                      <span className="text-[9px] opacity-70">{appsOpen ? "‚ñ≤" : "‚ñº"}</span>
                    </button>

                    {appsOpen && (
                      <div className="absolute right-0 mt-2 w-64 rounded-2xl border border-border1 bg-card1 shadow-sm p-3 z-20 animate-[fadeIn_0.12s_ease-out]">
                        <p className="mb-2 text-[11px] text-textTertiary">
                          Switch between apps in your Codewrinkles universe.
                        </p>
                        <div className="space-y-1">
                          {apps.map((app) => (
                            <button
                              key={app.id}
                              type="button"
                              onClick={() => handleAppClick(app)}
                              className="w-full flex items-start justify-between gap-2 rounded-xl px-2.5 py-2 text-left text-xs text-textSecondary hover:bg-card2 transition-colors"
                            >
                              <div>
                                <div className="flex items-center gap-2">
                                  <span className={"h-1.5 w-1.5 rounded-full " + appAccentClass(app.accent)}></span>
                                  <span className="text-textPrimary">{app.name}</span>
                                </div>
                                <span className="mt-0.5 block text-[11px] text-textTertiary">
                                  {app.description}
                                </span>
                              </div>
                              {(app.id === "legal" || app.id === "runwrinkles") && (
                                <span className="rounded-full border border-border1 px-1.5 py-[1px] text-[9px] text-textTertiary">
                                  Soon
                                </span>
                              )}
                            </button>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                )}

                {/* Auth / back buttons */}
                {view === "app" && (
                  <>
                    <button
                      onClick={() => setView("login")}
                      className="hidden sm:inline-flex items-center rounded-full border border-transparent px-3 py-1 text-xs text-textSecondary hover:border-border1 hover:bg-card1 transition-all duration-150"
                    >
                      Login
                    </button>
                    <button
                      onClick={() => setView("register")}
                      className="btn-primary inline-flex items-center rounded-full bg-brandSoft px-3 py-1.5 text-xs font-medium text-black hover:bg-brand"
                    >
                      Sign up
                    </button>
                  </>
                )}

                {view !== "app" && (
                  <button
                    onClick={goHome}
                    className="inline-flex items-center rounded-full border border-border1 bg-card1 px-3 py-1 text-xs text-textSecondary hover:border-brandSoft/60 hover:bg-card2 transition-all duration-150"
                  >
                    ‚Üê Back to app
                  </button>
                )}

                {/* Avatar */}
                {view === "app" && (
                  <button
                    type="button"
                    className="flex h-9 w-9 items-center justify-center rounded-full bg-card1 border border-border1 text-sm font-semibold text-textPrimary hover:border-brandSoft/60 transition-all duration-150"
                  >
                    D
                  </button>
                )}
              </div>
            </div>

            {/* Mobile nav for app */}
            {view === "app" && (
              <div className="border-t border-borderDeep lg:hidden">
                <div className="mx-auto flex max-w-6xl gap-1 overflow-x-auto px-4 py-2 text-[11px]">
                  {NAV_ITEMS.map((item) => {
                    const isActive = activeNav === item;
                    return (
                      <button
                        key={item}
                        onClick={() => setActiveNav(item)}
                        className={[
                          "whitespace-nowrap rounded-full px-3 py-1 text-xs transition-all duration-150",
                          isActive
                            ? "bg-brandSoft text-black"
                            : "border border-border1 bg-card1 text-textSecondary hover:border-brandSoft/60 hover:text-textPrimary",
                        ].join(" ")}
                      >
                        {item}
                      </button>
                    );
                  })}
                </div>
              </div>
            )}
          </header>
        );
      }

      function appAccentClass(accent) {
        switch (accent) {
          case "sky":
            return "bg-sky-400";
          case "violet":
            return "bg-violet-400";
          case "brand":
            return "bg-brandSoft";
          case "amber":
            return "bg-amber-400";
          case "emerald":
            return "bg-emerald-400";
          default:
            return "bg-brandSoft";
        }
      }

      const Card = ({ children, className = "" }) => (
        <div className={["rounded-2xl border border-border1 bg-card1 p-5 shadow-sm transition-all duration-150 hover:border-borderDeep/80", className].join(" ")}>
          {children}
        </div>
      );

      /* ------------------------- Home ---------------------------- */

      function Home({ onStartOnboarding }) {
        return (
          <div className="space-y-6">
            <div className="flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
              <div className="flex items-center gap-3">
                <div className="h-8 w-8 flex items-center justify-center rounded-xl bg-card2 border border-brandSoft/40">
                  <span className="text-brandSoft text-base">‚óé</span>
                </div>
                <div>
                  <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                    Control room
                  </h1>
                  <p className="text-xs text-textSecondary">
                    Snapshot across Social, Learn and Twin.
                  </p>
                </div>
              </div>
              <div className="flex items-center gap-2">
                <span className="hidden sm:inline-flex items-center rounded-full border border-brandSoft/40 bg-brandSoft/10 px-3 py-[3px] text-[11px] font-medium text-brandSoft">
                  LANDING
                </span>
                <button
                  type="button"
                  onClick={onStartOnboarding}
                  className="btn-primary inline-flex items-center rounded-full border border-border1 bg-card1 px-3 py-1.5 text-[11px] text-textSecondary hover:border-brandSoft/60 hover:bg-card2"
                >
                  <span className="mr-1">‚óé</span> Start onboarding
                </button>
              </div>
            </div>

            <div className="grid gap-5 lg:grid-cols-3">
              {/* Social snapshot */}
              <Card>
                <div className="flex items-center justify-between gap-2">
                  <h2 className="text-sm font-semibold tracking-tight">Social snapshot</h2>
                  <span className="rounded-full border border-sky-800 bg-sky-900/30 px-2 py-[2px] text-[11px] text-sky-200">
                    SOCIAL
                  </span>
                </div>
                <p className="mt-2 text-xs text-textSecondary">
                  Last 3 posts you shared.
                </p>
                <ul className="mt-3 space-y-2 text-xs text-textSecondary">
                  <li className="rounded-lg bg-card2 px-3 py-2">
                    ‚Ä¢ Shaping the Codewrinkles multi-app shell.
                  </li>
                  <li className="rounded-lg bg-card2 px-3 py-2">
                    ‚Ä¢ Thoughts on agentic AI in real products.
                  </li>
                  <li className="rounded-lg bg-card2 px-3 py-2">
                    ‚Ä¢ Ultra-running, architecture and focus.
                  </li>
                </ul>
              </Card>

              {/* Learn snapshot */}
              <Card>
                <div className="flex items-center justify-between gap-2">
                  <h2 className="text-sm font-semibold tracking-tight">Learn progress</h2>
                  <span className="rounded-full border border-violet-800 bg-violet-900/30 px-2 py-[2px] text-[11px] text-violet-200">
                    LEARN
                  </span>
                </div>
                <p className="mt-2 text-xs text-textSecondary">
                  Active path:{" "}
                  <span className="text-textPrimary">Clean Architecture in .NET</span>
                </p>
                <div className="mt-3">
                  <div className="flex items-center justify-between text-xs text-textTertiary">
                    <span>Overall</span>
                    <span className="text-textSecondary">42%</span>
                  </div>
                  <div className="mt-1 h-2 rounded-full bg-card2">
                    <div className="h-2 w-[42%] rounded-full bg-violet-400"></div>
                  </div>
                </div>
                <ul className="mt-3 text-xs text-textSecondary space-y-1">
                  <li>‚Ä¢ Next: Vertical slices & feature folders</li>
                  <li>‚Ä¢ Upcoming: Testing strategy for clean boundaries</li>
                </ul>
              </Card>

              {/* Twin snapshot */}
              <Card>
                <div className="flex items-center justify-between gap-2">
                  <h2 className="text-sm font-semibold tracking-tight">Twin quick prompts</h2>
                  <span className="rounded-full border border-brandSoft/40 bg-brandSoft/10 px-2 py-[2px] text-[11px] text-brandSoft">
                    TWIN
                  </span>
                </div>
                <p className="mt-2 text-xs text-textSecondary">
                  Ask your Twin about your own content.
                </p>
                <div className="mt-3 space-y-2 text-xs">
                  <QuickPromptChip label="Summarize my latest Social posts" />
                  <QuickPromptChip label="Generate a Learn path from my backlog" />
                  <QuickPromptChip label="Draft a thread about agentic AI" />
                </div>
              </Card>
            </div>
          </div>
        );
      }

      function QuickPromptChip({ label }) {
        return (
          <button
            type="button"
            className="w-full rounded-xl border border-border1 bg-card2 px-3 py-2 text-left text-xs text-textSecondary hover:border-brandSoft/60 hover:bg-pagebg transition-all duration-150"
          >
            {label}
          </button>
        );
      }

      /* ------------------------- Social -------------------------- */

      function Social() {
        const [feedFilter, setFeedFilter] = useState("all");
        const [composerValue, setComposerValue] = useState("");
        const maxChars = 280;
        const charsLeft = maxChars - composerValue.length;
        const isOverLimit = charsLeft < 0;

        const posts = [
          {
            id: 1,
            timeAgo: "2h",
            content:
              "Working on the Codewrinkles multi-app shell. One account, multiple worlds.",
            type: "default",
          },
          {
            id: 2,
            timeAgo: "6h",
            content:
              "Micro-thought: ship the smallest slice of value, but craft the surface well.",
            type: "quote",
            quoted: {
              author: "Old notebook",
              text: "Users don't experience your architecture. They experience your surfaces.",
            },
          },
          {
            id: 3,
            timeAgo: "1d",
            content:
              "Thinking about how to merge running coaching and software architecture into one narrative.",
            type: "thread",
            repliesPreview: 2,
          },
          {
            id: 4,
            timeAgo: "2d",
            content: "A visual I'm using to explain vertical slices.",
            type: "image",
          },
        ];

        return (
          <div className="space-y-5">
            <div className="flex flex-col gap-3 border-b border-borderDeep pb-4 lg:flex-row lg:items-center lg:justify-between lg:pb-5">
              <div className="flex items-center gap-3">
                <div className="flex items-center gap-2">
                  <div className="flex h-8 w-8 items-center justify-center rounded-xl bg-card1 border border-sky-500/50">
                    <span className="text-[15px] text-sky-300">‚àû</span>
                  </div>
                  <div className="flex flex-col">
                    <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                      Social
                    </h1>
                    <p className="text-xs text-textSecondary">
                      Your micro-thought stream.
                    </p>
                  </div>
                </div>
                <span className="inline-flex items-center rounded-full border border-sky-800 bg-sky-900/40 px-2 py-[2px] text-[11px] font-medium text-sky-200">
                  SOCIAL FEED
                </span>
              </div>

              <div className="flex items-center gap-2 text-xs">
                <span className="hidden text-textTertiary sm:inline">Filter:</span>
                <div className="inline-flex items-center gap-[2px] rounded-full border border-border1 bg-card1 p-[3px]">
                  {[
                    { id: "all", label: "All" },
                    { id: "following", label: "Following" },
                    { id: "mine", label: "Mine" },
                  ].map((f) => {
                    const isActive = feedFilter === f.id;
                    return (
                      <button
                        key={f.id}
                        onClick={() => setFeedFilter(f.id)}
                        className={[
                          "rounded-full px-3 py-[6px] text-xs transition-all duration-150",
                          isActive
                            ? "bg-card2 text-textPrimary border border-border1"
                            : "text-textSecondary hover:bg-card2 hover:text-textPrimary",
                        ].join(" ")}
                      >
                        {f.label}
                      </button>
                    );
                  })}
                </div>
              </div>
            </div>

            <div className="grid gap-6 lg:grid-cols-[minmax(0,2fr),minmax(260px,1fr)]">
              <section className="space-y-4 lg:space-y-5">
                <ComposerCard
                  value={composerValue}
                  onChange={setComposerValue}
                  maxChars={maxChars}
                  isOverLimit={isOverLimit}
                  charsLeft={charsLeft}
                />
                <FeedList posts={posts} />
              </section>
              <aside className="space-y-4 lg:space-y-5">
                <SocialContextPanel />
              </aside>
            </div>
          </div>
        );
      }

      function ComposerCard({
        value,
        onChange,
        maxChars,
        isOverLimit,
        charsLeft,
      }) {
        return (
          <Card>
            <div className="flex gap-3">
              <div className="mt-1 flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full border border-border1 bg-card2 text-xs font-semibold text-textPrimary">
                D
              </div>
              <div className="flex-1 space-y-3">
                <textarea
                  value={value}
                  onChange={(e) => onChange(e.target.value)}
                  rows={3}
                  placeholder="What are you thinking about right now?"
                  className="w-full resize-none rounded-xl border border-border1 bg-pagebg px-3 py-2 text-sm text-textPrimary placeholder:text-textTertiary focus:outline-none focus:ring-2 focus:ring-brandSoft/70 focus:ring-offset-2 focus:ring-offset-pagebg"
                />
                <div className="flex flex-wrap items-center justify-between gap-3 text-xs">
                  <div className="flex flex-wrap items-center gap-2">
                    <QuickTag label="#dotnet" />
                    <QuickTag label="#ai" />
                    <QuickTag label="#architecture" />
                  </div>
                  <div className="flex items-center gap-3">
                    <span
                      className={[
                        "tabular-nums",
                        isOverLimit ? "text-red-400" : "text-textTertiary",
                      ].join(" ")}
                    >
                      {charsLeft}/{maxChars}
                    </span>
                    <button
                      type="button"
                      disabled={value.trim().length === 0 || isOverLimit}
                      className={[
                        "btn-primary inline-flex items-center rounded-full px-4 py-1.5 text-xs font-medium transition-colors",
                        value.trim().length === 0 || isOverLimit
                          ? "bg-border1 text-textTertiary cursor-not-allowed"
                          : "bg-brandSoft text-black hover:bg-brand",
                      ].join(" ")}
                    >
                      Post
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </Card>
        );
      }

      function QuickTag({ label }) {
        return (
          <button
            type="button"
            className="rounded-full border border-sky-500/40 bg-sky-900/40 px-2.5 py-[3px] text-[11px] text-sky-200 hover:border-sky-300/70 hover:bg-sky-900/60 transition-colors"
          >
            {label}
          </button>
        );
      }

      function FeedList({ posts }) {
        return (
          <div className="space-y-3">
            {posts.map((post) => (
              <SocialPost key={post.id} post={post} />
            ))}
          </div>
        );
      }

      function SocialPost({ post }) {
        return (
          <article className="rounded-2xl border border-border1 bg-card1 p-4 transition-all duration-150 hover:border-brandSoft/50 hover:bg-card2">
            <header className="mb-2 flex items-start justify-between gap-3 text-sm">
              <div className="flex items-center gap-2">
                <div className="flex h-8 w-8 items-center justify-center rounded-full bg-card2 text-xs font-semibold text-textPrimary border border-border1">
                  D
                </div>
                <div className="flex flex-col">
                  <span className="font-medium tracking-tight text-textPrimary">
                    Daniel @ Codewrinkles
                  </span>
                  <span className="text-xs text-textTertiary">@codewrinkles</span>
                </div>
              </div>
              <span className="text-xs text-textTertiary">
                {post.timeAgo}
              </span>
            </header>
            <p className="text-sm leading-relaxed text-textPrimary mb-3">
              {post.content}
            </p>

            {post.type === "quote" && post.quoted && (
              <div className="mb-3 rounded-xl border border-border1 bg-pagebg/60 px-3 py-2 text-xs text-textSecondary">
                <div className="mb-1 text-[10px] uppercase tracking-wide text-textTertiary">
                  {post.quoted.author}
                </div>
                <div className="italic">&ldquo;{post.quoted.text}&rdquo;</div>
              </div>
            )}

            {post.type === "thread" && (
              <div className="mb-3 rounded-xl border border-dashed border-border1 bg-pagebg/50 px-3 py-2 text-xs text-textTertiary">
                <div className="flex items-center justify-between">
                  <span>Thread preview</span>
                  <span className="text-[10px]">
                    {post.repliesPreview} replies
                  </span>
                </div>
                <div className="mt-1 h-[1px] bg-borderDeep/70" />
              </div>
            )}

            {post.type === "image" && (
              <div className="mb-3 overflow-hidden rounded-xl border border-border1 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 h-40 flex items-center justify-center text-[11px] text-textTertiary">
                <span>Image placeholder ‚Äì vertical slice diagram</span>
              </div>
            )}

            <footer className="mt-2 flex gap-4 text-xs text-textTertiary">
              <FeedAction icon="üí¨" label="Reply" />
              <FeedAction icon="‚úß" label="Appreciate" />
              <FeedAction icon="‚Üó" label="Share" />
            </footer>
          </article>
        );
      }

      function FeedAction({ icon, label }) {
        return (
          <button
            type="button"
            className="inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs text-textTertiary hover:bg-pagebg hover:text-textPrimary transition-colors"
          >
            <span className="text-[11px]">{icon}</span>
            <span>{label}</span>
          </button>
        );
      }

      function SocialContextPanel() {
        return (
          <div className="space-y-3">
            <Card>
              <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
                Today&apos;s focus
              </h2>
              <p className="mt-1 text-xs text-textSecondary">
                Shape your stream with small, honest updates about what you&apos;re
                really working on.
              </p>
              <div className="mt-3 grid grid-cols-2 gap-2 text-xs">
                <ContextChip label="Architecture notes" />
                <ContextChip label="Running insights" />
                <ContextChip label="AI experiments" />
                <ContextChip label=".NET patterns" />
              </div>
            </Card>
            <Card>
              <h3 className="text-sm font-semibold tracking-tight">
                Pinned tags
              </h3>
              <div className="mt-2 flex flex-wrap gap-1.5 text-xs">
                <TagPill label="#ultra" />
                <TagPill label="#cleanarchitecture" />
                <TagPill label="#mediatr" />
                <TagPill label="#agenticAI" />
              </div>
            </Card>
            <Card>
              <h3 className="text-sm font-semibold tracking-tight">Drafts</h3>
              <p className="mt-2 text-xs text-textTertiary">
                No drafts yet. Anything you start writing and close will show up
                here.
              </p>
            </Card>
          </div>
        );
      }

      function ContextChip({ label }) {
        return (
          <div className="flex items-center justify-between rounded-xl border border-border1 bg-pagebg px-2 py-1 text-xs text-textSecondary">
            <span className="truncate">{label}</span>
            <span className="text-[9px] text-textTertiary">‚óè</span>
          </div>
        );
      }

      function TagPill({ label }) {
        return (
          <span className="inline-flex items-center rounded-full border border-border1 bg-pagebg px-2 py-[3px] text-[11px] text-textSecondary">
            {label}
          </span>
        );
      }

      /* ------------------------- Learn --------------------------- */

      function Learn() {
        const modules = [
          { id: 1, title: "Architectural boundaries", duration: "18 min", status: "done" },
          { id: 2, title: "Vertical slices vs layers", duration: "22 min", status: "in-progress" },
          { id: 3, title: "Application services & orchestration", duration: "16 min", status: "todo" },
          { id: 4, title: "Testing boundaries", duration: "24 min", status: "todo" },
        ];

        return (
          <div className="space-y-6">
            <div className="flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
              <div className="flex items-center gap-2">
                <div className="flex h-8 w-8 items-center justify-center rounded-xl bg-card1 border border-violet-500/60">
                  <span className="text-[15px] text-violet-300">‚ñ¢</span>
                </div>
                <div>
                  <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                    Learn
                  </h1>
                  <p className="text-xs text-textSecondary">
                    AI-guided paths based on your content.
                  </p>
                </div>
              </div>
              <span className="inline-flex items-center rounded-full border border-violet-700 bg-violet-900/40 px-3 py-[3px] text-[11px] font-medium text-violet-200">
                LEARN DASHBOARD
              </span>
            </div>
            <div className="grid gap-4 lg:grid-cols-[minmax(0,1.6fr),minmax(0,1.1fr)]">
              <Card>
                <h2 className="text-sm font-semibold tracking-tight">
                  Current path
                </h2>
                <p className="mt-1 text-xs text-textSecondary">
                  Clean Architecture in .NET
                </p>
                <div className="mt-3 space-y-3 text-xs">
                  <ProgressRow label="Foundations & boundaries" progress={100} />
                  <ProgressRow label="Vertical slice features" progress={60} />
                  <ProgressRow label="Testing the edges" progress={20} />
                </div>
              </Card>
              <div className="space-y-3">
                <Card>
                  <h3 className="text-sm font-semibold tracking-tight">
                    Suggested next
                  </h3>
                  <div className="mt-3 space-y-2 text-xs">
                    <SuggestedPath
                      title="Agentic AI for existing SaaS"
                      description="Turn a legacy SaaS into an AI-native system."
                    />
                    <SuggestedPath
                      title="Ultra-running as a product metaphor"
                      description="Use endurance principles to design calmer architectures."
                    />
                  </div>
                </Card>
                <Card>
                  <h3 className="text-sm font-semibold tracking-tight">
                    Your learning tempo
                  </h3>
                  <p className="mt-2 text-xs text-textSecondary">
                    Last 7 days:{" "}
                    <span className="text-textPrimary">4</span> focused sessions ¬∑{" "}
                    <span className="text-textPrimary">3</span> completed modules.
                  </p>
                </Card>
              </div>
            </div>

            {/* Modules list */}
            <Card>
              <div className="flex items-center justify-between mb-3">
                <h3 className="text-sm font-semibold tracking-tight">Modules in this path</h3>
                <span className="text-[11px] text-textTertiary">
                  {modules.length} modules
                </span>
              </div>
              <div className="space-y-2 text-xs">
                {modules.map((m) => (
                  <div
                    key={m.id}
                    className="flex items-center justify-between rounded-xl border border-border1 bg-card2 px-3 py-2 hover:border-violet-300/60 hover:bg-pagebg transition-colors"
                  >
                    <div className="flex flex-col">
                      <span className="text-textPrimary">{m.title}</span>
                      <span className="text-[11px] text-textTertiary">
                        {m.duration}
                      </span>
                    </div>
                    <ModuleStatus status={m.status} />
                  </div>
                ))}
              </div>
            </Card>
          </div>
        );
      }

      function ModuleStatus({ status }) {
        const map = {
          "done": { label: "Done", className: "bg-emerald-900/40 text-emerald-300 border-emerald-700" },
          "in-progress": { label: "In progress", className: "bg-violet-900/40 text-violet-200 border-violet-700" },
          "todo": { label: "Next", className: "bg-slate-900/40 text-textSecondary border-border1" },
        };
        const cfg = map[status] || map["todo"];
        return (
          <span className={"rounded-full border px-2 py-[2px] text-[11px] " + cfg.className}>
            {cfg.label}
          </span>
        );
      }

      function ProgressRow({ label, progress }) {
        return (
          <div>
            <div className="flex items-center justify-between text-xs text-textTertiary">
              <span>{label}</span>
              <span className="text-textSecondary">{progress}%</span>
            </div>
            <div className="mt-1 h-2 rounded-full bg-card2">
              <div
                className="h-2 rounded-full bg-violet-400"
                style={{ width: `${progress}%` }}
              ></div>
            </div>
          </div>
        );
      }

      function SuggestedPath({ title, description }) {
        return (
          <button
            type="button"
            className="w-full rounded-xl border border-border1 bg-card2 px-3 py-2 text-left text-xs text-textSecondary hover:border-violet-300/60 hover:bg-pagebg transition-colors"
          >
            <span className="block text-xs font-medium text-textPrimary">
              {title}
            </span>
            <span className="block text-xs text-textSecondary mt-1">
              {description}
            </span>
          </button>
        );
      }

      /* ------------------------- Twin ---------------------------- */

      function Twin() {
        const [input, setInput] = useState("");
        const messages = [
          {
            id: 1,
            from: "system",
            text: "Tip: Ask about your own posts, videos or drafts. Twin knows your world first.",
          },
          {
            id: 2,
            from: "twin",
            text: "Hey, I‚Äôm your Codewrinkles Twin. Ask me about your content, code or training.",
          },
          {
            id: 3,
            from: "you",
            text: "Give me 3 ideas for a video that mixes .NET architecture and ultra-running.",
          },
          {
            id: 4,
            from: "twin",
            text: "Idea #1: 'Designing endurance architectures' ‚Äì mapping long runs to long-lived systems...",
          },
        ];

        return (
          <div className="space-y-6">
            <div className="flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
              <div className="flex items-center gap-2">
                <div className="flex h-8 w-8 items-center justify-center rounded-xl bg-card1 border border-brandSoft/60">
                  <span className="text-[15px] text-brandSoft">‚ú∫</span>
                </div>
                <div>
                  <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                    Twin
                  </h1>
                  <p className="text-xs text-textSecondary">
                    A digital assistant that mirrors your knowledge.
                  </p>
                </div>
              </div>
              <span className="inline-flex items-center rounded-full border border-brandSoft/40 bg-brandSoft/10 px-3 py-[3px] text-[11px] font-medium text-brandSoft">
                TWIN CHAT
              </span>
            </div>
            <div className="grid gap-4 lg:grid-cols-[minmax(0,0.9fr),minmax(0,1.7fr)]">
              <Card>
                <h2 className="text-sm font-semibold tracking-tight">
                  Suggested prompts
                </h2>
                <div className="mt-3 space-y-2 text-xs">
                  <QuickPromptChip label="Summarize my last week of content" />
                  <QuickPromptChip label="Suggest a Learn path from my posts" />
                  <QuickPromptChip label="Draft a thread from this idea" />
                </div>
              </Card>
              <div className="flex flex-col rounded-2xl border border-border1 bg-card1">
                <div className="flex-1 space-y-3 overflow-y-auto p-4 text-xs max-h-[380px]">
                  {messages.map((m) => (
                    <ChatBubble key={m.id} from={m.from} text={m.text} />
                  ))}
                  <TypingIndicator />
                </div>
                <div className="border-t border-borderDeep p-3">
                  <form
                    className="flex items-end gap-2"
                    onSubmit={(e) => e.preventDefault()}
                  >
                    <textarea
                      rows={2}
                      value={input}
                      onChange={(e) => setInput(e.target.value)}
                      placeholder="Ask your Twin something..."
                      className="flex-1 resize-none rounded-xl border border-border1 bg-pagebg px-3 py-2 text-sm text-textPrimary placeholder:text-textTertiary focus:outline-none focus:ring-2 focus:ring-brandSoft/70 focus:ring-offset-2 focus:ring-offset-pagebg"
                    />
                    <button
                      type="submit"
                      className="btn-primary inline-flex items-center rounded-xl bg-brandSoft px-3 py-2 text-xs font-medium text-black hover:bg-brand transition-colors"
                    >
                      Send
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        );
      }

      function ChatBubble({ from, text }) {
        if (from === "system") {
          return (
            <div className="flex justify-center">
              <div className="max-w-[90%] rounded-full border border-border1 bg-pagebg px-3 py-1.5 text-[11px] text-textTertiary">
                {text}
              </div>
            </div>
          );
        }
        const isTwin = from === "twin";
        return (
          <div
            className={[
              "flex",
              isTwin ? "justify-start" : "justify-end",
            ].join(" ")}
          >
            <div
              className={[
                "max-w-[80%] rounded-2xl px-3 py-2 text-xs leading-relaxed",
                isTwin
                  ? "bg-card2 border border-brandSoft/50 text-textPrimary"
                  : "bg-pagebg border border-border1 text-textPrimary",
              ].join(" ")}
            >
              <div className="mb-1 text-[10px] uppercase tracking-wide text-textTertiary">
                {isTwin ? "Twin" : "You"}
              </div>
              <div>{text}</div>
            </div>
          </div>
        );
      }

      function TypingIndicator() {
        return (
          <div className="mt-1 flex justify-start">
            <div className="inline-flex items-center gap-1 rounded-full border border-border1 bg-card2 px-2 py-1 text-[10px] text-textTertiary">
              <span>Twin is thinking</span>
              <span className="flex gap-[3px]">
                <span className="typing-dot h-1 w-1 rounded-full bg-textTertiary"></span>
                <span className="typing-dot h-1 w-1 rounded-full bg-textTertiary"></span>
                <span className="typing-dot h-1 w-1 rounded-full bg-textTertiary"></span>
              </span>
            </div>
          </div>
        );
      }

      /* ------------------------- Settings ------------------------ */

      function Settings() {
        const [activeSection, setActiveSection] = useState("profile");
        const sections = [
          { id: "profile", label: "Profile" },
          { id: "account", label: "Account" },
          { id: "apps", label: "Connected apps" },
          { id: "notifications", label: "Notifications" },
        ];

        return (
          <div className="space-y-6">
            <div className="flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
              <div className="flex items-center gap-2">
                <div className="flex h-8 w-8 items-center justify-center rounded-xl bg-card1 border border-border1">
                  <span className="text-[15px] text-textSecondary">‚öô</span>
                </div>
                <div>
                  <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                    Settings
                  </h1>
                  <p className="text-xs text-textSecondary">
                    Configure your account and app behavior.
                  </p>
                </div>
              </div>
              <span className="inline-flex items-center rounded-full border border-border1 bg-card1 px-3 py-[3px] text-[11px] font-medium text-textSecondary">
                SETTINGS
              </span>
            </div>

            {/* Mobile section select */}
            <div className="lg:hidden">
              <label className="mb-1 block text-xs text-textTertiary">
                Section
              </label>
              <select
                value={activeSection}
                onChange={(e) => setActiveSection(e.target.value)}
                className="w-full rounded-xl border border-border1 bg-card1 px-3 py-2 text-sm text-textPrimary focus:outline-none focus:ring-2 focus:ring-brandSoft/70 focus:ring-offset-2 focus:ring-offset-pagebg"
              >
                {sections.map((s) => (
                  <option key={s.id} value={s.id}>
                    {s.label}
                  </option>
                ))}
              </select>
            </div>

            <div className="grid gap-4 lg:grid-cols-[220px,minmax(0,1fr)]">
              {/* Sidebar */}
              <aside className="hidden flex-col gap-1 rounded-2xl border border-border1 bg-card1 p-2 text-xs lg:flex">
                {sections.map((s) => {
                  const active = activeSection === s.id;
                  return (
                    <button
                      key={s.id}
                      onClick={() => setActiveSection(s.id)}
                      className={[
                        "flex items-center justify-between rounded-xl px-3 py-2 text-left transition-colors",
                        active
                          ? "bg-card2 text-textPrimary border border-border1"
                          : "text-textSecondary hover:bg-card2",
                      ].join(" ")}
                    >
                      <span>{s.label}</span>
                      {active && (
                        <span className="text-[9px] text-brandSoft">‚óè</span>
                      )}
                    </button>
                  );
                })}
              </aside>

              {/* Content */}
              <section className="rounded-2xl border border-border1 bg-card1 p-4 text-sm">
                {activeSection === "profile" && <SettingsProfile />}
                {activeSection === "account" && <SettingsAccount />}
                {activeSection === "apps" && <SettingsApps />}
                {activeSection === "notifications" && <SettingsNotifications />}
              </section>
            </div>
          </div>
        );
      }

      function SettingsProfile() {
        return (
          <div className="space-y-4">
            <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
              Profile details
            </h2>
            <div className="grid gap-3 sm:grid-cols-2">
              <Field label="Display name" placeholder="Daniel @ Codewrinkles" />
              <Field label="Handle" placeholder="@codewrinkles" />
              <Field label="Tagline" placeholder="Running, .NET and agentic AI." />
            </div>
          </div>
        );
      }

      function SettingsAccount() {
        return (
          <div className="space-y-4">
            <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
              Account & security
            </h2>
            <Field label="Email" placeholder="you@example.com" />
            <p className="text-xs text-textTertiary">
              Authentication and advanced security settings will live here.
            </p>
          </div>
        );
      }

      function SettingsApps() {
        return (
          <div className="space-y-4">
            <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
              Connected apps
            </h2>
            <ul className="space-y-2 text-xs">
              <li className="flex items-center justify-between rounded-xl border border-border1 bg-card2 px-3 py-2">
                <span>Social</span>
                <span className="rounded-full bg-sky-900/40 px-2 py-[2px] text-[11px] text-sky-200 border border-sky-700">
                  Active
                </span>
              </li>
              <li className="flex items-center justify-between rounded-xl border border-border1 bg-card2 px-3 py-2">
                <span>Learn</span>
                <span className="rounded-full bg-violet-900/40 px-2 py-[2px] text-[11px] text-violet-200 border border-violet-700">
                  Active
                </span>
              </li>
              <li className="flex items-center justify-between rounded-xl border border-border1 bg-card2 px-3 py-2">
                <span>Twin</span>
                <span className="rounded-full bg-brandSoft/10 px-2 py-[2px] text-[11px] text-brandSoft border border-brandSoft/40">
                  Active
                </span>
              </li>
              <li className="flex items-center justify-between rounded-xl border border-border1 bg-card2 px-3 py-2">
                <span>Legal</span>
                <span className="rounded-full bg-amber-900/30 px-2 py-[2px] text-[11px] text-amber-200 border border-amber-700">
                  Coming soon
                </span>
              </li>
            </ul>
          </div>
        );
      }

      function SettingsNotifications() {
        return (
          <div className="space-y-4">
            <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
              Notifications
            </h2>
            <ToggleRow label="Email me weekly summaries" />
            <ToggleRow label="Notify me when Learn unlocks a new module" />
            <ToggleRow label="Twin recap of my week" />
          </div>
        );
      }

      function Field({ label, placeholder }) {
        return (
          <div className="space-y-1">
            <label className="block text-xs text-textTertiary">{label}</label>
            <input
              placeholder={placeholder}
              className="w-full rounded-xl border border-border1 bg-pagebg px-3 py-2 text-sm text-textPrimary placeholder:text-textTertiary focus:outline-none focus:ring-2 focus:ring-brandSoft/70 focus:ring-offset-2 focus:ring-offset-pagebg"
            />
          </div>
        );
      }

      function ToggleRow({ label }) {
        return (
          <div className="flex items-center justify-between gap-3">
            <span className="text-xs text-textSecondary">{label}</span>
            <button
              type="button"
              className="relative inline-flex h-5 w-9 items-center rounded-full bg-card2 border border-border1"
            >
              <span className="ml-[2px] inline-block h-4 w-4 rounded-full bg-brandSoft" />
            </button>
          </div>
        );
      }

      /* ------------------------- Auth Screens -------------------- */

      function AuthCard({ title, subtitle, children }) {
        return (
          <div className="min-h-[60vh] flex items-center justify-center">
            <div className="w-full max-w-md">
              <Card className="relative overflow-hidden">
                <div className="absolute inset-x-8 top-0 h-px bg-gradient-to-r from-transparent via-brandSoft/60 to-transparent opacity-60" />
                <div className="mb-4">
                  <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                    {title}
                  </h1>
                  <p className="mt-1 text-xs text-textSecondary">
                    {subtitle}
                  </p>
                </div>
                {children}
              </Card>
            </div>
          </div>
        );
      }

      function LoginScreen({ setView, goHome }) {
        const [mode, setMode] = useState("password"); // "password" | "magic"
        return (
          <AuthCard
            title="Welcome back"
            subtitle="Log in to your Codewrinkles account."
          >
            {/* Mode toggle */}
            <div className="inline-flex rounded-full border border-border1 bg-card2 p-[3px] text-xs mb-4">
              <button
                type="button"
                onClick={() => setMode("password")}
                className={[
                  "px-4 py-1.5 rounded-full transition-colors",
                  mode === "password"
                    ? "bg-pagebg text-textPrimary"
                    : "text-textSecondary hover:text-textPrimary",
                ].join(" ")}
              >
                Password
              </button>
              <button
                type="button"
                onClick={() => setMode("magic")}
                className={[
                  "px-4 py-1.5 rounded-full transition-colors",
                  mode === "magic"
                    ? "bg-pagebg text-textPrimary"
                    : "text-textSecondary hover:text-textPrimary",
                ].join(" ")}
              >
                Magic link
              </button>
            </div>

            <form
              className="space-y-4"
              onSubmit={(e) => e.preventDefault()}
            >
              {mode === "password" ? (
                <>
                  <Field label="Email or username" placeholder="you@example.com" />
                  <Field label="Password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                  <div className="flex items-center justify-between text-xs">
                    <label className="flex items-center gap-2 text-textSecondary">
                      <input type="checkbox" className="h-3 w-3 rounded border-border1 bg-pagebg" />
                      <span>Remember me</span>
                    </label>
                    <button
                      type="button"
                      className="text-[11px] text-brandSoft hover:text-brand"
                    >
                      Forgot password?
                    </button>
                  </div>
                </>
              ) : (
                <>
                  <Field label="Email" placeholder="you@example.com" />
                  <p className="text-xs text-textSecondary">
                    We&apos;ll send you a one-time link to log in.
                  </p>
                </>
              )}

              <button
                type="submit"
                className="btn-primary w-full rounded-full bg-brandSoft px-4 py-2 text-sm font-medium text-black hover:bg-brand transition-colors"
              >
                {mode === "password" ? "Continue" : "Send magic link"}
              </button>
            </form>

            <div className="mt-4 flex items-center gap-2 text-[11px] text-textTertiary">
              <span className="h-px flex-1 bg-borderDeep" />
              <span>or continue with</span>
              <span className="h-px flex-1 bg-borderDeep" />
            </div>

            <div className="mt-3 grid grid-cols-3 gap-2 text-xs">
              <SocialButton label="Google" short="G" />
              <SocialButton label="GitHub" short="GH" />
              <SocialButton label="Facebook" short="f" />
            </div>

            <div className="mt-4 flex flex-col gap-2 text-[11px] text-textSecondary">
              <button
                type="button"
                onClick={goHome}
                className="inline-flex items-center gap-1 text-textTertiary hover:text-textPrimary"
              >
                <span>‚Üê</span>
                <span>Back to Home</span>
              </button>
              <div>
                Don&apos;t have an account?{" "}
                <button
                  type="button"
                  onClick={() => setView("register")}
                  className="text-brandSoft hover:text-brand"
                >
                  Sign up
                </button>
              </div>
            </div>
          </AuthCard>
        );
      }

      function RegisterScreen({ setView, goHome }) {
        const [mode, setMode] = useState("password");
        return (
          <AuthCard
            title="Create your account"
            subtitle="Start your Codewrinkles workspace."
          >
            <div className="inline-flex rounded-full border border-border1 bg-card2 p-[3px] text-xs mb-4">
              <button
                type="button"
                onClick={() => setMode("password")}
                className={[
                  "px-4 py-1.5 rounded-full transition-colors",
                  mode === "password"
                    ? "bg-pagebg text-textPrimary"
                    : "text-textSecondary hover:text-textPrimary",
                ].join(" ")}
              >
                Password
              </button>
              <button
                type="button"
                onClick={() => setMode("magic")}
                className={[
                  "px-4 py-1.5 rounded-full transition-colors",
                  mode === "magic"
                    ? "bg-pagebg text-textPrimary"
                    : "text-textSecondary hover:text-textPrimary",
                ].join(" ")}
              >
                Magic link
              </button>
            </div>

            <form
              className="space-y-4"
              onSubmit={(e) => e.preventDefault()}
            >
              <Field label="Name" placeholder="Daniel" />
              <Field label="Email" placeholder="you@example.com" />
              {mode === "password" && (
                <Field label="Password" placeholder="Create a password" />
              )}
              {mode === "magic" && (
                <p className="text-xs text-textSecondary">
                  We&apos;ll create your account after you confirm the magic link.
                </p>
              )}

              <button
                type="submit"
                className="btn-primary w-full rounded-full bg-brandSoft px-4 py-2 text-sm font-medium text-black hover:bg-brand transition-colors"
              >
                {mode === "password" ? "Create account" : "Send magic link"}
              </button>
            </form>

            <div className="mt-4 flex items-center gap-2 text-[11px] text-textTertiary">
              <span className="h-px flex-1 bg-borderDeep" />
              <span>or sign up with</span>
              <span className="h-px flex-1 bg-borderDeep" />
            </div>

            <div className="mt-3 grid grid-cols-3 gap-2 text-xs">
              <SocialButton label="Google" short="G" />
              <SocialButton label="GitHub" short="GH" />
              <SocialButton label="Facebook" short="f" />
            </div>

            <div className="mt-4 flex flex-col gap-2 text-[11px] text-textSecondary">
              <button
                type="button"
                onClick={goHome}
                className="inline-flex items-center gap-1 text-textTertiary hover:text-textPrimary"
              >
                <span>‚Üê</span>
                <span>Back to Home</span>
              </button>
              <div>
                Already have an account?{" "}
                <button
                  type="button"
                  onClick={() => setView("login")}
                  className="text-brandSoft hover:text-brand"
                >
                  Log in
                </button>
              </div>
            </div>
          </AuthCard>
        );
      }

      function SocialButton({ label, short }) {
        return (
          <button
            type="button"
            className="flex items-center justify-center gap-2 rounded-xl border border-border1 bg-card2 px-3 py-2 text-xs text-textSecondary hover:border-brandSoft/50 hover:bg-pagebg transition-colors"
          >
            <span className="flex h-5 w-5 items-center justify-center rounded-full bg-pagebg text-[11px] text-textPrimary">
              {short}
            </span>
            <span>{label}</span>
          </button>
        );
      }

      /* ------------------------- Onboarding ---------------------- */

      function OnboardingScreen({ setView }) {
        const steps = [
          {
            id: 1,
            title: "What do you want Codewrinkles for?",
            description: "We‚Äôll tune the surfaces around your primary focus.",
            chips: ["Social posting", "Learning", "Twin Q&A", "Running & training"],
          },
          {
            id: 2,
            title: "Which apps should we start with?",
            description: "You can always enable more later in Settings ‚Üí Connected apps.",
            chips: ["Social", "Learn", "Twin", "Legal (soon)", "Runwrinkles (soon)"],
          },
          {
            id: 3,
            title: "Set your initial rhythm",
            description: "How often do you want Codewrinkles to nudge you?",
            chips: ["Daily check-in", "3x per week", "Weekly recap only", "No nudges for now"],
          },
        ];

        const [stepIndex, setStepIndex] = useState(0);
        const step = steps[stepIndex];
        const isLast = stepIndex === steps.length - 1;

        const goNext = () => {
          if (!isLast) setStepIndex(stepIndex + 1);
          else setView("app");
        };

        const goBack = () => {
          if (stepIndex === 0) setView("app");
          else setStepIndex(stepIndex - 1);
        };

        const skip = () => setView("app");

        return (
          <div className="min-h-[60vh] flex items-center justify-center">
            <div className="w-full max-w-xl">
              <Card>
                <div className="flex items-center justify-between mb-4">
                  <div>
                    <h1 className="text-base font-semibold tracking-tight text-textPrimary">
                      Quick onboarding
                    </h1>
                    <p className="mt-1 text-xs text-textSecondary">
                      3 small steps. You can always change this later.
                    </p>
                  </div>
                  <div className="text-[11px] text-textTertiary">
                    Step {stepIndex + 1} of {steps.length}
                  </div>
                </div>

                <div className="mb-4">
                  <h2 className="text-sm font-semibold tracking-tight text-textPrimary">
                    {step.title}
                  </h2>
                  <p className="mt-1 text-xs text-textSecondary">
                    {step.description}
                  </p>
                </div>

                <div className="mb-5 flex flex-wrap gap-2">
                  {step.chips.map((chip) => (
                    <button
                      key={chip}
                      type="button"
                      className="rounded-full border border-border1 bg-card2 px-3 py-1.5 text-xs text-textSecondary hover:border-brandSoft/60 hover:bg-pagebg transition-colors"
                    >
                      {chip}
                    </button>
                  ))}
                </div>

                <div className="flex items-center justify-between text-xs">
                  <button
                    type="button"
                    onClick={goBack}
                    className="inline-flex items-center gap-1 text-textTertiary hover:text-textPrimary"
                  >
                    <span>‚Üê</span>
                    <span>{stepIndex === 0 ? "Back to app" : "Back"}</span>
                  </button>
                  <div className="flex items-center gap-2">
                    <button
                      type="button"
                      onClick={skip}
                      className="text-textTertiary hover:text-textPrimary"
                    >
                      Skip
                    </button>
                    <button
                      type="button"
                      onClick={goNext}
                      className="btn-primary inline-flex items-center rounded-full bg-brandSoft px-4 py-1.5 text-xs font-medium text-black hover:bg-brand"
                    >
                      {isLast ? "Finish" : "Next"}
                    </button>
                  </div>
                </div>
              </Card>
            </div>
          </div>
        );
      }

      /* ------------------------- Mount --------------------------- */

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
